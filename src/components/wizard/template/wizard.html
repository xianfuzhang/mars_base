<div class="wizard" ng-if="showWizard">
    <div class="{{steps.length < 2 ? 'wizard__dialog-single': 'wizard__dialog'}}">
        <div class="wizard__header">
            <div class="wizard__header__title">
                {{title}}
            </div>

            <div class="wizard__header__dismiss" ng-click="postCancel()"></div>
        </div>

        <div class="wizard__body">
            <div class="wizard__body__left" ng-if="steps.length > 1">
                <div ng-repeat="step in steps track by $index" class="wizard__body__left__step" ng-class="{'+active': curIndex === $index }" ng-click="allowSkip === false ? false : switchTo($index)">{{($index+1) + '.' +step.title}}</div>
            </div>

            <div class="wizard__body__right" ng-class="{'+single': steps.length < 2}">
                <div class="wizard__body__right__alert" ng-show="errorMessage != ''" ng-bind="errorMessage"></div>
                <form name="wizardForm" novalidate>
                    <div class="wizard__body__form" ng-class="{'+single': steps.length < 2}">
                        <div ng-show="curIndex == $index" ng-repeat="step in steps track by $index" class="wizard__body__right__content">
                            <ng-bind-html ng-bind-html="trustAsHtml(step.content)" init-bind></ng-bind-html>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="wizard__footer">
            <div class="wizard__footer__btn-group">
                <button class="wizard__footer__btn" ng-if="steps.length > 1" ng-class="{'+disabled': curIndex == 0}" ng-click="preStep()" ng-disabled="curIndex == 0" ng-bind="::'COMPONENT.WIZARD.BUTTON.BACK' | translate"></button>
                <button class="wizard__footer__btn" ng-if="steps.length > 1" ng-class="{'+disabled': curIndex == steps.length - 1}" ng-click="nextStep()" ng-disabled="curIndex == steps.length - 1" ng-bind="::'COMPONENT.WIZARD.BUTTON.NEXT' | translate"></button>

                <button class="wizard__footer__btn" ng-click="postCancel()" ng-bind="::'COMPONENT.WIZARD.BUTTON.CANCEL' | translate"></button>
                <button class="wizard__footer__btn" type="submit" ng-class="{'+disabled': wizardForm.$invalid}" ng-click="postSubmit()" ng-disabled="wizardForm.$invalid" ng-bind="::'COMPONENT.WIZARD.BUTTON.SUBMIT' | translate"></button>
            </div>
        </div>

    </div>
</div>