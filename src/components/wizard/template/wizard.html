<div class="wizard" ng-if="showWizard" >
    <div style="perspective: 800px;">
    <div  class="{{steps.length < 2 ? 'wizard__dialog-single': 'wizard__dialog'}}" ng-class="{'+hide': isWizardClosing}">
        <div class="wizard__header">
            <div class="wizard__header__title">
                {{title}}
            </div>

            <div class="wizard__header__alert" ng-class="{'+single': steps.length < 2}" ng-show="errorMessage != ''">
                <span ng-bind="errorMessage"></span>
                <span class="wizard__header__alert__close" ng-click="closeMessage()"><i style="font-size:18px;" class="material-icons">cancel</i></span>
            </div>
            <div class="wizard__header__dismiss" ng-click="postCancel()">
                <div class="border"></div>
                <i class="material-icons">add</i>
            </div>
        </div>

        <div class="wizard__body" ng-style="wizardStyle">
            <div class="wizard__body__left" ng-if="steps.length > 1">
                <div ng-repeat="step in steps track by $index" class="wizard__body__left__step" ng-class="{'+active': curIndex === $index }" ng-click="allowSkip === false ? false : switchTo($index)">{{($index+1) + '. ' +step.title}}</div>
            </div>

            <div class="wizard__body__right" ng-class="{'+single': steps.length < 2}">
                <form name="wizardForm" autocomplete="off" novalidate>
                    <div class="wizard__body__form" ng-class="{'+single': steps.length < 2}">
                        <div ng-show="curIndex == $index" ng-repeat="step in steps track by $index" class="wizard__body__right__content">
                            <ng-bind-html ng-bind-html="trustAsHtml(step.content)" init-bind></ng-bind-html>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="wizard__footer">
            <div class="wizard__footer__btn-group">
                <!--<button class="wizard__footer__btn" ng-if="steps.length > 1" ng-class="{'+disabled': curIndex == 0}" ng-click="preStep()" ng-disabled="curIndex == 0" ng-bind="::'COMPONENT.WIZARD.BUTTON.BACK' | translate"></button>-->
                <div class="wizard__footer__btn" ng-if="steps.length > 1">
                    <mar-button btn-text="::'COMPONENT.WIZARD.BUTTON.BACK' | translate" btn-style="'width:80px;'" btn-icon="'arrow_back'" btn-class="'btn-white btn-sm'" btn-click="preStep()" btn-disabled="curIndex == 0" />
                </div>

                <!--<button class="wizard__footer__btn" ng-if="steps.length > 1" ng-class="{'+disabled': curIndex == steps.length - 1}" ng-click="nextStep()" ng-disabled="curIndex == steps.length - 1" ng-bind="::'COMPONENT.WIZARD.BUTTON.NEXT' | translate"></button>-->
                <div class="wizard__footer__btn" ng-if="steps.length > 1">
                    <mar-button btn-text="::'COMPONENT.WIZARD.BUTTON.NEXT' | translate" btn-style="'width:80px;'" btn-icon="'arrow_forward'" btn-class="'btn-white btn-sm'" btn-click="nextStep()" btn-disabled="curIndex == steps.length - 1" />
                </div>
                <!--<button class="wizard__footer__btn" ng-click="postCancel()" ng-bind="::'COMPONENT.WIZARD.BUTTON.CANCEL' | translate"></button>-->
                <div class="wizard__footer__btn">
                    <mar-button btn-text="::'COMPONENT.WIZARD.BUTTON.CANCEL' | translate" btn-style="'width:80px;'" btn-icon="'clear'" btn-class="'btn-white btn-sm'" btn-click="postCancel()" />
                </div>
                <!--<button class="wizard__footer__btn" type="submit" ng-class="{'+disabled': wizardForm.$invalid}" ng-click="postSubmit()" ng-disabled="wizardForm.$invalid" ng-bind="::'COMPONENT.WIZARD.BUTTON.SUBMIT' | translate"></button>-->
                <div class="wizard__footer__btn">
                    <mar-button btn-text="::'COMPONENT.WIZARD.BUTTON.SUBMIT' | translate" btn-style="'width:80px;'" btn-icon="'done'" btn-class="'btn-white btn-sm'" btn-click="postSubmit()" btn-type="'submit'" btn-disabled="loading || wizardForm.$invalid || curIndex != steps.length - 1"/>
                </div>
            </div>
        </div>

    </div>
    </div>
</div>