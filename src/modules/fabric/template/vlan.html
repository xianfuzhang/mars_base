<mdl-header></mdl-header>
<div class="app-main">
  <content-header big-title="{{'MODULE.HEADER.FABRIC.VLAN' | translate}}">
    <a href="/">Mars Cloud</a>
    <span>•</span>
    <span>{{'MODULE.HEADER.FABRIC.VLAN' | translate}}</span>
  </content-header>
  <section class="app-body dhcp_relay" style="flex-direction: column">
    <div class="main__content">
        <div>
          <mdl-tabs ng-model="tabSelected" options="tabs"
                    class-list="main__content__device-detail-tabs"
                    on-select="onTabChange($value)">
          </mdl-tabs>
        </div>
        <div style="display:flex;height:100%">
            <section class="tab-content" ng-if="tabSelected.type == 'default'">

            </section>
            <section class="tab-content" ng-if="tabSelected.type == 'edit'">
                <div style="width:66%; display: inline-block;vertical-align: top;;height:100%">
                    <div class="mdl-table-field" >
                        <div style="margin: 15px 0;display: flex;align-items: center;">
                            <mdl-select ng-model="vlanModel.selectedDevice" display-label="{options: deviceOptions}"></mdl-select>
                            <mdl-button ng-click="addDevice(vlanModel.selectedDevice.value)" icon-name="add" disabled="!vlanModel.selectedDevice.value"></mdl-button>
                            <mdl-button ng-click="removeDevice(vlanModel.selectedDevice.value)" icon-name="remove" disabled="!vlanModel.selectedDevice.value"></mdl-button>
                        </div>

                        <div style="display:flex;align-items:center;margin: 10px 0;" ng-repeat="($index, device) in vlanModel.devices">
                            <div style="width: 100px;font-size: 15px;font-weight:bold;">{{device.name}}:</div>
                            <ports-group group-id="{{'group-id-' + $index}}" ports-list="device.ports" ports-num-per-row="27"></ports-group>
                            <div style="width: 150px;margin-left: 50px;">
                                <span>批量输入端口：</span><valid-input ng-model="batchPorts" v-regex="portsBatchRegex" v-name="ports" v-rpcid="device-ports-input" ng-change="batchChangePorts($index, batchPorts)"></valid-input>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
  </section>
</div>